{"version":3,"sources":["images/heart.png","images/like1.png","images/down.png","images/upper.png","images/loading.gif","components/Pages.jsx","components/Gener.jsx","components/httpService.jsx","components/authService.jsx","components/Table.jsx","newMovieData.jsx","components/Demo.jsx","components/Paginate.jsx","components/Login.jsx","components/Logout.jsx","components/Nav.jsx","components/register.jsx","components/registerService.jsx","components/NotFound.jsx","newGenreData.jsx","components/Movie.jsx","components/App.jsx","index.js"],"names":["Pages","props","currentPage","onpageChange","pageCounte","count","pageSize","pages","_","range","className","map","page","style","cursor","onClick","Genre","onSelectall","currentItem","items","item","onSelect","axios","interceptors","response","use","error","status","toast","Promise","reject","Axios","post","get","put","delete","setjwt","jwt","defaults","headers","common","http","getjwt","localStorage","getItem","Table","onDelete","Img","AllMovies","onSort","onChange","id","scope","width","src","alt","movie","indexOf","height","marginLeft","liked","exact","to","_id","title","genre","name","numberInStock","dailyRentalRate","newMoviesSet","Demo","useState","current","Ucurrent","Gcurrent","Ugurrent","Query","UQuery","movies","Umovies","movieData","UmovieData","load","Uload","path","order","sing","down","display","sortC","UsortC","heart","img","Uimg","useEffect","a","newMoviData","data","getData","deleteHandle","D","sample","Sample","filter","m","generSample","includes","push","allMovies","pageNumber","startIndex","slice","take","value","Paginate","orderBy","length","flexDirection","flexWrap","justifyContent","margin","Gener","sampleGenre","marginRight","user","color","textDecoration","marginBottom","type","e","query","currentTarget","sorted","toLowerCase","startsWith","placeholder","upper","M","ind","like1","console","log","loading","Login","username","password","loginData","UloginData","Uerror","Schema","Joi","string","required","Validate","result","validate","abortEarly","errors","details","message","handleSubmit","preventDefault","email","setItem","window","location","handleChange","input","errorMessage","obj","schema","validateProperty","account","onSubmit","htmlFor","autoFocus","marginTop","disabled","Logout","removeItem","Nav","data-toggle","data-target","aria-controls","aria-expanded","aria-label","class","Register","history","fname","registerData","UregisterData","min","fontSize","NotFound","newGereData","Movie","match","genreData","UngenreData","moviData","Mdata","newGenreData","Gdata","max","genreId","number","params","index","selecteMovie","newData","posts","newMovie","parseInt","Data","App","Ujwt","Jwt","jwtdecode","ex","component","render","process","REACT_APP_NAME","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.f5497a55.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/heart.c412cbae.png\";","export default __webpack_public_path__ + \"static/media/like1.556c78a5.png\";","export default __webpack_public_path__ + \"static/media/down.d5ec88c8.png\";","export default __webpack_public_path__ + \"static/media/upper.b571ec65.png\";","export default __webpack_public_path__ + \"static/media/loading.ac4a764b.gif\";","import React from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nconst Pages = (props) => {\r\n  const {currentPage, onpageChange, count, pageSize} = props;\r\n  const pageCounte = count/pageSize;\r\n  if (pageCounte<=1) return null;\r\n  const pages = _.range(1, pageCounte+1)\r\n  return (\r\n    <>\r\n      <nav>\r\n        <ul className=\"pagination\"> \r\n        {\r\n          pages.map(page=>(\r\n            <li style={{cursor:\"pointer\"}} key={page} className={currentPage===page?\"page-item active\":\"page-item\"}>\r\n            <button onClick={()=>onpageChange(page)}  className=\"page-link\">{page}</button>\r\n            </li>\r\n          ))\r\n        }\r\n        </ul>\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\nexport default Pages;\r\n","import React from \"react\";\r\n\r\nconst Genre = (props)=>{ \r\n    return (\r\n        <>\r\n            <ul className=\"list-group\">\r\n            <li style={{cursor:\"pointer\"}} onClick={props.onSelectall} className={\"All Genre\" === props.currentItem?\"list-group-item list-group-item-action active\":\"list-group-item list-group-item-action\"}>All Genre</li>\r\n            {\r\n                props.items.map(item=>(\r\n                    <li style={{cursor:\"pointer\"}} key={item} onClick={()=>props.onSelect(item)} className={item === props.currentItem?\"list-group-item list-group-item-action active\":\"list-group-item list-group-item-action\"}>{item}</li>\r\n                ))\r\n            }\r\n                \r\n            </ul>\r\n        </>\r\n     )\r\n}\r\n\r\nexport default Genre;","import axios from \"axios\";\r\nimport { toast} from \"react-toastify\";\r\n\r\naxios.interceptors.response.use(null, error=>{\r\n  const condition = error.response && error.response.status >= 400 && error.response.status < 500\r\n  if (!condition){\r\n    toast.error(\"Unexpected Errror Occurred!!\")\r\n  }\r\n  return Promise.reject(error)    \r\n})\r\nexport function setjwt(jwt){\r\n  axios.defaults.headers.common[\"x-auth-token\"] = jwt;\r\n}\r\n\r\nconst Axios = {\r\n    post:axios.post,\r\n    get:axios.get,\r\n    put:axios.put,\r\n    delete:axios.delete,\r\n    setjwt\r\n};\r\nexport default Axios;","import http from \"./httpService\";\r\n\r\nhttp.setjwt(getjwt())\r\n\r\n// const apiEndpoint = \"http://localhost:3900/api/auth\";\r\nconst apiEndpoint = \"https://serene-lowlands-01376.herokuapp.com/api/auth\"\r\n\r\nexport function login(email, password){\r\n   return http.post(apiEndpoint, {email, password});\r\n}\r\n\r\nexport function getjwt(){\r\n   return localStorage.getItem(\"token\")\r\n}\r\n\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {getjwt} from \"../components/authService\";\r\n\r\n\r\nconst Table = (props) => {\r\n  const {onDelete, Img, AllMovies, onSort, onChange} = props;\r\n  return (\r\n    <>\r\n    <table className= \"table table-sm\">\r\n      <thead >\r\n        <tr id=\"head\" className=\"sing\" >\r\n          <th scope=\"col\">#</th>\r\n          <th\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => onSort(\"title\")}\r\n            scope=\"col\"\r\n          >Title\r\n          </th>\r\n          <th\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => onSort(\"genre[name]\")}\r\n            scope=\"col\"\r\n          >Genre\r\n          </th>\r\n          <th\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => onSort(\"numberInStock\")}\r\n            scope=\"col\"\r\n          >Stock</th>\r\n          <th\r\n            style={{ cursor: \"pointer\"}}\r\n            onClick={() => onSort(\"dailyRentalRate\" )}\r\n            scope=\"col\"\r\n          >Rate\r\n          </th>\r\n          <th scope=\"col\" id=\"sing\"><img style={{ width:\"12px\"}} src={Img} alt=\"sing\" /></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {AllMovies.map((movie) => (\r\n          <tr key={movie._id}>\r\n            <th scope=\"row\">{AllMovies.indexOf(movie) + 1}</th>\r\n            <td>\r\n              <img\r\n                onClick={() => onChange(movie)}\r\n                style={{ height: \"20px\", marginLeft: \"5px\" }}\r\n                src={movie.liked}\r\n                alt=\"like\"\r\n              />\r\n              <Link exact to={`/movie/${movie._id}`}>{movie.title}</Link>\r\n              \r\n            </td>\r\n            <td>{movie.genre.name}</td>\r\n            <td>{movie.numberInStock}</td>\r\n            <td>{movie.dailyRentalRate}</td>\r\n            <td>\r\n            {\r\n              (getjwt()) &&\r\n              <button onClick={() => onDelete(movie)} className=\"btn btn-danger\">\r\n                Delete\r\n              </button>\r\n            }\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n\r\n    </>\r\n    \r\n  );\r\n};\r\n\r\nexport default Table;\r\n","\r\n// const newMoviesSet  = 'http://localhost:3900/api/movies'\r\nconst newMoviesSet = \"https://serene-lowlands-01376.herokuapp.com/api/movies\";\r\n\r\nexport default newMoviesSet;","import React, { useEffect, useState } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport heart from \"../images/heart.png\";\r\nimport like1 from \"../images/like1.png\";\r\nimport down from \"../images/down.png\";\r\nimport upper from \"../images/upper.png\";\r\nimport loading from \"../images/loading.gif\"\r\nimport Pages from \"./Pages\";\r\nimport { Paginate } from \"./Paginate\";\r\nimport Gener from \"./Gener\";\r\nimport \"../index.css\";\r\nimport _ from \"lodash\";\r\nimport Table from \"./Table\";\r\nimport {Link} from \"react-router-dom\";\r\nimport newMoviData from \"../newMovieData\";\r\nimport http from \"./httpService\";\r\nimport {ToastContainer, toast} from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n\r\nconst Demo = (props) => {\r\n  \r\n  const pageSize = 5;\r\n  const [current, Ucurrent] = useState(1);\r\n  const [Gcurrent, Ugurrent] = useState(\"All Genre\");\r\n  const [Query, UQuery] = useState(\"\");\r\n  const [movies, Umovies] = useState([]);\r\n  const [movieData, UmovieData] = useState([]);\r\n  const [load, Uload] = useState()\r\n  const [sortC, UsortC] = useState({path:\"title\", order:\"asc\", sing:down, display:\"none\"});\r\n  const [img, Uimg] = useState(heart)\r\n   \r\n  useEffect(()=>{\r\n    async function getData(){\r\n      const {data} = await http.get(newMoviData)\r\n      data.map((item)=>{\r\n        return item[\"liked\"]=heart;\r\n      })\r\n      UmovieData(data)\r\n      Umovies(data)\r\n      Uload(data)\r\n    }\r\n    getData()\r\n  },[])\r\n\r\n  const changeHandle = (M) => {\r\n    let ind = movies.indexOf(M);\r\n    const sample = [...movies];\r\n    if (img === heart){\r\n      Uimg(like1)\r\n      sample[ind][\"liked\"]=img;\r\n    }\r\n    if (img === like1){\r\n      console.log(\"yed\")\r\n      Uimg(heart)\r\n      sample[ind][\"liked\"]=img;\r\n    }\r\n    Umovies(sample)\r\n  };\r\n\r\n  const deleteHandle = async(D) => {\r\n    let sample = [...movies];\r\n    let Sample = sample.filter((m) => m._id !== D._id);\r\n    Umovies(Sample);\r\n    try{\r\n      await http.delete(newMoviData + \"/\" + D._id)\r\n    }catch (ex) {\r\n      if ( ex.response && ex.response.status >= 403){\r\n        toast.error(\"Only admin can delete the post!!! \");\r\n      }\r\n      else if (ex.response && ex.response.status >= 400 && ex.response.status <= 500){\r\n        toast.error(\"this post hase been already deleted!!\");\r\n      }\r\n      Umovies(sample)\r\n    }\r\n    \r\n  };\r\n\r\n  const pageChange = (page) => {\r\n    Ucurrent(page);\r\n  };\r\n \r\n  let generSample = [];\r\n  movieData.filter((item) =>\r\n    generSample.includes(item.genre.name) ? null : generSample.push(item.genre.name)\r\n  );\r\n\r\n  const onItemchange = (genre) => {\r\n    Ugurrent(genre);\r\n    Ucurrent(1);\r\n    UQuery(\"\")\r\n    const sampleGenre = movieData.filter((item) => item.genre.name === genre);\r\n    Umovies(sampleGenre);\r\n  };\r\n  const onItemchangeall = () => {\r\n    Umovies(movieData);\r\n    UQuery(\"\")\r\n    Ugurrent(\"All Genre\");\r\n  };\r\n\r\n const handleQuery= (e) =>{\r\n        const query = e.currentTarget.value\r\n        UQuery(query)\r\n        Ugurrent(\"\");\r\n        Ucurrent(1);\r\n        if (query===\"\"){\r\n          Umovies(movieData);\r\n        }else{\r\n        const sample = [...movies]\r\n        const sorted = sample.filter(item=> item.title.toLowerCase().startsWith(query))\r\n        Umovies(sorted)\r\n        }\r\n }\r\n\r\n  \r\n  const sortHandle = (path)=>{\r\n    if (sortC.order==='asc'){\r\n      UsortC({path:path, order:'desc', sing:upper})\r\n    }else{\r\n      UsortC({path:path, order:'asc', sing:down})\r\n    }\r\n    \r\n  }\r\n  const sorted =  _.orderBy(movies, [sortC.path], [sortC.order] )\r\n  const allMovies = Paginate(sorted, current, pageSize);\r\n  return (\r\n    <>\r\n      <ToastContainer />\r\n      <div id=\"status\">       \r\n        {movies.length > 0 ? (<h5 >You have total &nbsp;{movies.length} Movies in data set.</h5>) : (<h5 >You have No Movies in data set.</h5>)}\r\n        </div>\r\n      <div style={{\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        flexWrap: \"wrap\",\r\n        justifyContent:\"space-between\"}} id = \"container\">\r\n        <div id=\"Gener\" style={{ width: \"25%\", margin: \"40px\" }}>\r\n          <Gener\r\n            items={generSample}\r\n            currentItem={Gcurrent}\r\n            onSelect={onItemchange}\r\n            onSelectall={onItemchangeall}\r\n          />\r\n        </div>\r\n        <div id=\"table\" style={{ width: \"65%\", margin: \"5px\", marginRight: \"30px\" }} > \r\n        <div>\r\n          {props.user && <button className=\"btn btn-primary m-2\"><Link style={{color:\"white\", textDecoration:\"none\"}} to=\"/movie\">New Movie</Link></button>}\r\n          <input style={{marginBottom:\"2px\"}} type=\"text\" value={Query} onChange={handleQuery} placeholder=\"Search...\" className=\"form-control\" />\r\n         {(!load)?<img style={{marginLeft:\"30%\", width:\"200px\"}}  src={loading} alt=\"loading Img\" />:\r\n              <Table\r\n              Img = {sortC.sing}\r\n              onSort = {sortHandle}\r\n              AllMovies = {allMovies}\r\n              onDelete = {deleteHandle}\r\n              onChange = {changeHandle}\r\n              user={props.user}\r\n                />\r\n         }\r\n          \r\n          <Pages\r\n            count={movies.length}\r\n            pageSize={pageSize}\r\n            onpageChange={pageChange}\r\n            currentPage={current}\r\n          />\r\n          </div>\r\n        </div>\r\n        </div>\r\n    </>\r\n  );\r\n};\r\nexport default Demo;\r\n\r\n","import _ from 'lodash';\r\n\r\nconst Paginate= (items, pageNumber, pageSize)=>{\r\n        const startIndex = (pageNumber-1) * pageSize;\r\n        return _(items)\r\n        .slice(startIndex)\r\n        .take(pageSize)\r\n        .value()\r\n}\r\n\r\nexport {Paginate};","import React, {useState} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport \"../index.css\";\r\nimport Joi from \"joi-browser\";\r\nimport {login} from \"./authService\";\r\nimport { ToastContainer} from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport {getjwt} from \"./authService\";\r\n\r\n\r\nconst Login = (props) => {\r\n  const [loginData, UloginData] = useState({username:\"\", password:\"\"})\r\n  const [error, Uerror] = useState({})\r\n  \r\n  const Schema={\r\n    username:Joi.string().required(),\r\n    password:Joi.string().required()\r\n  }\r\n  const Validate= ()=>{\r\n    const result = Joi.validate(loginData, Schema, {abortEarly:false})\r\n    if(!result.error) return null;\r\n    const errors = {}\r\n    for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  }\r\n\r\n\r\n  const handleSubmit = async(e) =>{\r\n    e.preventDefault();\r\n     const errors = Validate();\r\n     Uerror(errors)\r\n     if(error) return;\r\n     //surver call\r\n     try{\r\n       const {data} = await login(loginData.username, loginData.password)\r\n       localStorage.setItem(\"token\",data)\r\n       window.location = \"/\";\r\n     }catch(ex){\r\n       if(ex.response && ex.response.status === 400){\r\n        //  toast.error(ex.response.data)\r\n        const errors = {...error}\r\n        errors.username = ex.response.data\r\n        Uerror(errors)\r\n       }\r\n     }\r\n      \r\n    }\r\n    const validateProperty = ({name, value}) =>{\r\n      const obj = {[name] : value}\r\n      const schema = {[name] : Schema[name]}\r\n      const {error} = Joi.validate(obj, schema);\r\n      return error ? error.details[0].message : null;\r\n    }\r\n  const handleChange = ({currentTarget:input}) =>{\r\n    const errorMessage = validateProperty(input);\r\n    if (errorMessage)  error[input.name] = errorMessage;\r\n    else delete error[input.name];\r\n\r\n    const account = {...loginData}\r\n    account[input.name] =  input.value;\r\n    UloginData(account)\r\n  }\r\n  if(getjwt()) return <Redirect to=\"/\" />\r\n  return (\r\n    <> \r\n    \r\n    <ToastContainer />\r\n        \r\n        <form id=\"form\" onSubmit={handleSubmit}>\r\n                <h1>Login</h1>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"username\">Username</label>\r\n                    <input\r\n                    autoFocus \r\n                     type=\"text\"\r\n                     value = {loginData.username}\r\n                     onChange= {handleChange}\r\n                     name = \"username\" \r\n                     className=\"form-control\"\r\n                     id=\"uername\" \r\n                     placeholder=\"Enter username\"\r\n                     />\r\n                </div>\r\n                {error && error.username && <div style={{marginTop:\"0px\"}} className=\"alert alert-danger \">{error.username}</div>}\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"Password\">Password</label>\r\n                    <input \r\n                    type=\"password\"\r\n                    value = {loginData.password}\r\n                    onChange= {handleChange}\r\n                    name = \"password\" \r\n                    className=\"form-control\" \r\n                    id=\"Password\" \r\n                    placeholder=\"Password\" \r\n                    />\r\n                </div>\r\n                {error && error.password && <div style={{marginTop:\"0px\"}}  className=\"alert alert-danger \">{error.password}</div>}\r\n                <button disabled={Validate()} type=\"submit\" className=\"btn btn-success\">Login</button>\r\n            </form>\r\n            <hr style={{width:\"15%\", margin:\"auto\", marginTop:\"20px\"}} />\r\n            \r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { useEffect } from 'react';\r\n\r\nconst Logout = () => {\r\nuseEffect(()=>{\r\n    localStorage.removeItem(\"token\")\r\n    window.location = \"/\"\r\n})\r\n    return null;\r\n}\r\n \r\nexport default Logout;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.bundle.js\";\r\n\r\nconst Nav = ({ user }) => {\r\n  return (\r\n    <>\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n          <h3>Vidly</h3>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-toggle=\"collapse\"\r\n            data-target=\"#navbarNav\"\r\n            aria-controls=\"navbarNav\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span class=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n            <ul className=\"navbar-nav\">\r\n              <li className=\"nav-item active\">\r\n                <Link className=\"nav-link\" to=\"/\">\r\n                  Home <span class=\"sr-only\">(current)</span>\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/movie\">\r\n                  Movie\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/\">\r\n                  Customer\r\n                </Link>\r\n              </li>\r\n              {!user && (\r\n                <>\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/register\">\r\n                      Register\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <button className=\"btn btn-success\">\r\n                      {\" \"}\r\n                      <Link\r\n                        style={{ color: \"black\", textDecoration: \"none\" }}\r\n                        exact\r\n                        to=\"/login\"\r\n                      >\r\n                        Login\r\n                      </Link>\r\n                    </button>\r\n                  </li>\r\n                </>\r\n              )}\r\n              {user && (\r\n                <>\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to=\"/\">\r\n                      Hello, {user.name}\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <button className=\"btn btn-success\">\r\n                      {\" \"}\r\n                      <Link\r\n                        style={{ color: \"black\", textDecoration: \"none\" }}\r\n                        exact\r\n                        to=\"/logout\"\r\n                      >\r\n                        Logout\r\n                      </Link>\r\n                    </button>\r\n                  </li>\r\n                </>\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React, {useState} from \"react\";\r\nimport \"../index.css\";\r\nimport Joi from \"joi-browser\";\r\nimport * as registerUser from \"./registerService\";\r\nimport {toast, ToastContainer} from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\n\r\nconst Register = ({history}) => {\r\n  const [registerData, UregisterData] = useState({username:\"\", password:\"\", fname:\"\"})\r\n  const [error, Uerror] = useState({})\r\n  \r\n  const Schema={\r\n    username:Joi.string().required().email(),\r\n    password:Joi.string().required().min(5),\r\n    fname:Joi.string().required()\r\n  }\r\n  const Validate= ()=>{\r\n    const result = Joi.validate(registerData, Schema, {abortEarly:false})\r\n    if(!result.error) return null;\r\n    const errors = {}\r\n    for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  }\r\n\r\n\r\n  const handleSubmit = async(e) =>{\r\n    e.preventDefault();\r\n     const errors = Validate();\r\n     Uerror(errors)\r\n     if(error) return;\r\n     Uerror({})\r\n     try{\r\n      const response = await registerUser.register(registerData)\r\n      localStorage.setItem(\"token\", response.headers[\"x-auth-token\"])\r\n      console.log(response)\r\n      window.location = \"/\";\r\n     }catch(ex){\r\n       if (ex.response && ex.response.status === 400){\r\n         toast.error(ex.response.data)\r\n       }\r\n     }\r\n    \r\n  }\r\n    const validateProperty = ({name, value}) =>{\r\n      const obj = {[name] : value}\r\n      const schema = {[name] : Schema[name]}\r\n      const {error} = Joi.validate(obj, schema);\r\n      return error ? error.details[0].message : null;\r\n    }\r\n  const handleChange = ({currentTarget:input}) =>{\r\n    const errorMessage = validateProperty(input);\r\n    if (errorMessage)  error[input.name] = errorMessage;\r\n    else delete error[input.name];\r\n\r\n    const account = {...registerData}\r\n    account[input.name] =  input.value;\r\n    UregisterData(account)\r\n  }\r\n\r\n  return (\r\n    <> \r\n        <ToastContainer />\r\n        \r\n        <form id=\"form\" onSubmit={handleSubmit}>\r\n                <h1>Register</h1>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"username \">Username</label>\r\n                    <input\r\n                    autoFocus \r\n                     type=\"text\"\r\n                     value = {registerData.username}\r\n                     onChange= {handleChange}\r\n                     name = \"username\" \r\n                     className=\"form-control\"\r\n                     id=\"uername\" \r\n                     placeholder=\"Enter username\"\r\n                     />\r\n                </div>\r\n                {error && error.username && <div style={{fontSize:\"13px\"}} className=\"alert alert-danger p-1\">{error.username}</div>}\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"Password\">Password</label>\r\n                    <input \r\n                    type=\"password\"\r\n                    value = {registerData.password}\r\n                    onChange= {handleChange}\r\n                    name = \"password\" \r\n                    className=\"form-control\" \r\n                    id=\"Password\" \r\n                    placeholder=\"Password\" \r\n                    />\r\n                </div>\r\n                {error && error.password && <div style={{fontSize:\"13px\"}} className=\"alert alert-danger p-1\">{error.password}</div>}\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"fname\">Name</label>\r\n                    <input \r\n                    type=\"text\"\r\n                    value = {registerData.fname}\r\n                    onChange= {handleChange}\r\n                    name = \"fname\" \r\n                    className=\"form-control\" \r\n                    id=\"fname\" \r\n                    placeholder=\"name\" \r\n                    />\r\n                </div>\r\n                {error && error.fname &&  <div style={{fontSize:\"13px\"}} className=\"alert alert-danger p-1\">{error.fname}</div>}\r\n                \r\n                <button disabled={Validate()} type=\"submit\" className=\"btn btn-success\">Register</button>\r\n            </form>\r\n            \r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import http from \"./httpService\";\r\n\r\n// const apiEndPOint = \"http://localhost:3900/api/users\"\r\nconst apiEndpoint = \"https://serene-lowlands-01376.herokuapp.com/api/users\"\r\n\r\nexport function register(user){\r\n    return http.post(apiEndpoint,{\r\n        email:user.username,\r\n        password:user.password,\r\n        name:user.fname\r\n    })\r\n}","import React from \"react\";\r\n\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <>\r\n        <h1>Page Not Found</h1>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","\r\n// const newGereData = \"http://localhost:3900/api/genres\"\r\nconst newGereData = \"https://serene-lowlands-01376.herokuapp.com/api/genres\";\r\n\r\nexport default newGereData;","import React, {useState, useEffect} from \"react\";\r\nimport \"../index.css\";\r\nimport Joi from \"joi-browser\";\r\nimport http from \"./httpService\";\r\nimport newMoviData from \"../newMovieData\";\r\nimport newGenreData from \"../newGenreData\";\r\nimport {ToastContainer} from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst Movie = ({history, match}) => { \r\n  const [genreData,UngenreData] = useState([{_id: \"\"},{_id: \"\"}, {_id: \"\"},{ _id: \"\"}])\r\n  const [moviData, UmovieData] = useState();\r\n  useEffect(()=>{\r\n    async function getData(){\r\n      const {data:Mdata} = await http.get(newMoviData)\r\n      const {data:Gdata} = await http.get(newGenreData)\r\n      UmovieData(Mdata)\r\n      UngenreData(Gdata)\r\n    }\r\n    getData()\r\n  },[])\r\n  const [registerData, UregisterData] = useState({})\r\n  const [error, Uerror] = useState({})\r\n  \r\n  const handleAddmovie = ()=>{\r\n    const index = match.params.id\r\n    const Movie = moviData.filter(e=>e._id === index)\r\n    const Data = {\r\n    title:Movie[0].title,\r\n    genreId:Movie[0].genre._id,\r\n    numberInStock:Movie[0].numberInStock,\r\n    dailyRentalRate:Movie[0].dailyRentalRate\r\n    } \r\n    UregisterData(Data)\r\n    \r\n  }\r\n  const Schema={\r\n    title:Joi.string().min(5).max(50).required(),\r\n    genreId:Joi.string().required(),\r\n    numberInStock:Joi.number().min(0).max(10).required(),\r\n    dailyRentalRate:Joi.number().required()\r\n  }\r\n  const Validate= ()=>{\r\n    const result = Joi.validate(registerData, Schema, {abortEarly:false})\r\n    if(!result.error) return null;\r\n    const errors = {}\r\n    for (let item of result.error.details) errors[item.path[0]] = item.message;\r\n    return errors;\r\n  }\r\n\r\n  const handleSubmit = async (e) =>{\r\n    e.preventDefault();\r\n     const errors = Validate();\r\n     Uerror(errors)\r\n     if(error) return;\r\n     //surver call\r\n     if(match.params.id){\r\n      const index = match.params.id\r\n      const Movie = moviData.filter(e=>e._id === index)\r\n      const ind = moviData.indexOf(Movie[0])\r\n      let selecteMovie = moviData[ind]\r\n      selecteMovie = {...registerData}\r\n      await http.put(newMoviData + \"/\" + index, selecteMovie)\r\n      history.push(\"/\")\r\n     }else{\r\n      const newData = {...registerData}\r\n      Uerror({})\r\n      const {data:posts} = await http.post(newMoviData, newData)\r\n      const newMovie = [posts, ...moviData]\r\n      UmovieData(newMovie)\r\n      history.push(\"/\")\r\n     }\r\n    }\r\n    const validateProperty = ({name, value}) =>{\r\n      const obj = {[name] : value}\r\n      const schema = {[name] : Schema[name]}\r\n      const {error} = Joi.validate(obj, schema);\r\n      return error ? error.details[0].message : null;\r\n    }\r\n  const handleChange = ({currentTarget:input}) =>{\r\n    if (input.name === \"numberInStock\" || input.name === \"dailyRentalRate\"){\r\n      input.value =  parseInt(input.value);\r\n    }\r\n    const errorMessage = validateProperty(input);\r\n    if (errorMessage) error[input.name] = errorMessage;\r\n    else delete error[input.name];\r\n    const account = {...registerData}\r\n    account[input.name] =  input.value;\r\n    UregisterData(account)\r\n  }\r\n\r\n  return (\r\n    <> <ToastContainer />\r\n        <h1>{match.params.id && moviData ? <span><h1>Movie id no:{match.params.id }</h1><button onClick= {handleAddmovie} className=\"btn btn-success\">Add Selected Movie Data</button></span>: <h1>Adding Movie</h1>}</h1>\r\n        <form id=\"form\" onSubmit={handleSubmit}>\r\n                <h1>Movie</h1>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input\r\n                    autoFocus \r\n                     type=\"text\"\r\n                     value = {registerData.title}\r\n                     onChange= {handleChange}\r\n                     name = \"title\" \r\n                     className=\"form-control\"\r\n                     id=\"title\" \r\n                     placeholder=\"title\"\r\n                     />\r\n                </div>\r\n                {error && error.title && <div style={{fontSize:\"13px\"}} className=\"alert alert-danger p-1\">{error.title}</div>}\r\n                <div  className=\"form-group\">\r\n                    <label htmlFor=\"genre\">Genre</label>\r\n                    <select value={registerData.genreId} onChange= {handleChange} className=\"form-control\" name=\"genreId\" id=\"genre\">\r\n                        <option value={genreData[0]._id}>{genreData[0].name}</option>\r\n                        <option value={genreData[1]._id}>{genreData[1].name}</option>\r\n                        <option value={genreData[2]._id}>{genreData[2].name}</option>\r\n                        <option value={genreData[3]._id}>{genreData[3].name}</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"numberInStock\">Stock</label>\r\n                    <input \r\n                    type=\"number\"\r\n                    value = {registerData.numberInStock}\r\n                    onChange= {handleChange}\r\n                    name = \"numberInStock\" \r\n                    className=\"form-control\" \r\n                    id=\"numberInStock\" \r\n                    placeholder=\"stock\" \r\n                    />\r\n                </div>\r\n                {error && error.numberInStock &&  <div style={{fontSize:\"13px\"}} className=\"alert alert-danger p-1\">{error.numberInStock}</div>}\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"dailyRentalRate\">Rate</label>\r\n                    <input \r\n                    type=\"number\"\r\n                    value = {registerData.dailyRentalRate}\r\n                    onChange= {handleChange}\r\n                    name = \"dailyRentalRate\" \r\n                    className=\"form-control\" \r\n                    id=\"dailyRentalRate\" \r\n                    placeholder=\"rate\" \r\n                    />\r\n                </div>\r\n                {error && error.dailyRentalRate &&  <div style={{fontSize:\"13px\"}} className=\"alert alert-danger p-1\">{error.dailyRentalRate}</div>}\r\n                <button type=\"submit\" className=\"btn btn-success\">Update</button>\r\n            </form>     \r\n    </>\r\n  );\r\n};\r\n\r\nexport default Movie;\r\n","import React, {useEffect, useState} from \"react\";\r\nimport Demo from \"./Demo\";\r\nimport jwtdecode from \"jwt-decode\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport {Route, Switch, Redirect} from \"react-router-dom\";\r\nimport Login from \"./Login\";\r\nimport Logout from \"./Logout\";\r\nimport Nav from \"./Nav\";\r\nimport Register from \"./register\";\r\nimport NotFound from \"./NotFound\";\r\nimport Movie from \"./Movie\";\r\nimport {getjwt} from \"./authService\";\r\n// import protectedRoute from \"./protectedRoute\";\r\n\r\nconst App = ({location}) => {\r\n  const [jwt, Ujwt] = useState()\r\n  useEffect(()=>{\r\n    try{\r\n      const Jwt = getjwt()\r\n      const user = jwtdecode(Jwt)\r\n      Ujwt(user)\r\n    }catch(ex){}\r\n  },[])\r\n  return (\r\n    <>\r\n    <Nav user = {jwt}/> \r\n    <div style={{marginTop:\"30px\"}}>\r\n      <Switch>\r\n        <Route exact path=\"/login\" component={Login} />\r\n        <Route exact path=\"/logout\" component={Logout} />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/notfound\" component={NotFound} />\r\n        <Route exact path=\"/\" render={props=><Demo {...props} user={jwt} />} />\r\n        <Route path=\"/movie/:id?\" render={props=>{\r\n          if(!jwt) return <Redirect to=\"/login\"/>\r\n          return <Movie {...props} / >;\r\n        }} />\r\n        <Redirect to=\"/notfound\" />\r\n      </Switch>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from \"./components/App\";\nimport {BrowserRouter} from \"react-router-dom\";\n  \nconsole.log(\"NAEEM\",process.env.REACT_APP_NAME)\nReactDOM.render(\n  <>\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n  </BrowserRouter>\n\n  </>,\n    document.getElementById(\"root\")\n)"],"sourceRoot":""}